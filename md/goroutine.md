# go 为什么百万高并发

## 轻量
- 内存占用小
  
goroutine 初始占用栈空间大小2k，线程则是2M...

- 上下文切换代价小

线程的切换是内核控制的，需要模式切换(用户态切换到内核态)，并且要16个寄存器等刷新
goroutine 的切换是在用户态直接完成等，runtime来控制，不需要模式切换，并且仅修改三个寄存器到值即可。
三个寄存器：PC / SP / DX

## GMP 调度器



## 参考
[Go 为什么这么“快”](https://zhuanlan.zhihu.com/p/111346689)